<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Owl | Enterprise GEO Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body { font-family: 'Inter', system-ui, sans-serif; background-color: #f8fafc; }
        /* Profound 风格的侧边栏 */
        .sidebar-link { transition: all 0.2s; border-left: 3px solid transparent; }
        .sidebar-link.active { background-color: #f1f5f9; border-left-color: #4f46e5; color: #1e293b; font-weight: 600; }
        .sidebar-link:hover:not(.active) { background-color: #f8fafc; }
        
        /* 卡片风格 */
        .pro-card { background: white; border: 1px solid #e2e8f0; border-radius: 8px; box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); }
        .metric-label { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.05em; color: #64748b; font-weight: 600; }
        .metric-value { font-size: 1.5rem; font-weight: 700; color: #0f172a; }
        
        /* 状态指示灯 */
        .status-dot { height: 8px; width: 8px; border-radius: 50%; display: inline-block; margin-right: 6px; }
        .dot-green { background-color: #22c55e; box-shadow: 0 0 0 2px #dcfce7; }
        .dot-red { background-color: #ef4444; box-shadow: 0 0 0 2px #fee2e2; }
    </style>
</head>
<body class="flex h-screen overflow-hidden text-slate-800">

    <aside class="w-64 bg-white border-r border-gray-200 flex flex-col z-10">
        <div class="h-16 flex items-center px-6 border-b border-gray-100">
            <div class="flex items-center gap-2 text-indigo-600">
                <i class="fa-solid fa-layer-group text-xl"></i>
                <span class="font-bold text-lg tracking-tight text-slate-900">Project Owl</span>
            </div>
        </div>
        
        <div class="flex-1 py-6 space-y-1 overflow-y-auto">
            <div class="px-6 mb-2 text-xs font-semibold text-slate-400 uppercase tracking-wider">Features</div>
            
            <a href="#" onclick="switchTab('insights')" id="nav-insights" class="sidebar-link active flex items-center px-6 py-3 text-sm text-slate-600">
                <i class="fa-solid fa-chart-line w-6"></i> 
                <span>Answer Insights</span>
                <span class="ml-auto text-[10px] bg-indigo-50 text-indigo-600 px-1.5 py-0.5 rounded border border-indigo-100">口碑</span>
            </a>
            
            <a href="#" onclick="switchTab('prompts')" id="nav-prompts" class="sidebar-link flex items-center px-6 py-3 text-sm text-slate-600">
                <i class="fa-solid fa-magnifying-glass w-6"></i>
                <span>Prompt Volumes</span>
                <span class="ml-auto text-[10px] bg-slate-100 text-slate-500 px-1.5 py-0.5 rounded border border-slate-200">需求</span>
            </a>

            <a href="#" onclick="switchTab('agent')" id="nav-agent" class="sidebar-link flex items-center px-6 py-3 text-sm text-slate-600">
                <i class="fa-solid fa-robot w-6"></i>
                <span>Agent Analytics</span>
                <span class="ml-auto text-[10px] bg-slate-100 text-slate-500 px-1.5 py-0.5 rounded border border-slate-200">技术</span>
            </a>

            <a href="#" onclick="switchTab('shopping')" id="nav-shopping" class="sidebar-link flex items-center px-6 py-3 text-sm text-slate-600">
                <i class="fa-solid fa-tag w-6"></i>
                <span>Conversion / Shop</span>
                <span class="ml-auto text-[10px] bg-slate-100 text-slate-500 px-1.5 py-0.5 rounded border border-slate-200">转化</span>
            </a>
        </div>

        <div class="p-4 border-t border-gray-100">
            <div class="flex items-center gap-3">
                <div class="h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold text-xs">PM</div>
                <div class="text-xs">
                    <p class="font-medium text-slate-900">Product Manager</p>
                    <p class="text-slate-500">ihuman.com</p>
                </div>
            </div>
        </div>
    </aside>

    <main class="flex-1 overflow-y-auto bg-[#f8fafc] p-8">
        
        <header class="flex justify-between items-center mb-8">
            <div>
                <h1 class="text-2xl font-bold text-slate-900" id="page-title">Answer Engine Insights</h1>
                <p class="text-sm text-slate-500 mt-1">监测 AI 如何在对话中提及“洪恩识字”及竞品。</p>
            </div>
            <div class="flex gap-3">
                <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">
                    <span class="status-dot dot-green"></span> All Systems Normal
                </span>
                <button class="bg-white border border-gray-300 text-slate-700 px-3 py-1.5 rounded text-sm hover:bg-gray-50">Last 7 Days</button>
                <button class="bg-indigo-600 text-white px-3 py-1.5 rounded text-sm hover:bg-indigo-700 font-medium">Export Report</button>
            </div>
        </header>

        <div id="view-insights" class="space-y-6">
            <div class="grid grid-cols-4 gap-4">
                <div class="pro-card p-5">
                    <div class="metric-label">Share of Voice (SoV)</div>
                    <div class="metric-value mt-1">42.5%</div>
                    <div class="text-xs text-green-600 mt-1 flex items-center gap-1"><i class="fa-solid fa-arrow-up"></i> 5.2% vs 竞品</div>
                </div>
                <div class="pro-card p-5">
                    <div class="metric-label">Positive Sentiment</div>
                    <div class="metric-value mt-1">88%</div>
                    <div class="text-xs text-slate-400 mt-1">AI 评价偏正面</div>
                </div>
                <div class="pro-card p-5">
                    <div class="metric-label">Brand Mentions</div>
                    <div class="metric-value mt-1">1,240</div>
                    <div class="text-xs text-green-600 mt-1"><i class="fa-solid fa-arrow-up"></i> 120 本周新增</div>
                </div>
                <div class="pro-card p-5">
                    <div class="metric-label">Citation Score</div>
                    <div class="metric-value mt-1">92</div>
                    <div class="text-xs text-slate-400 mt-1">引用源权威度</div>
                </div>
            </div>

            <div class="grid grid-cols-3 gap-6">
                <div class="pro-card p-6 col-span-1">
                    <h3 class="text-sm font-bold text-slate-800 mb-4">Market Share (AI SoV)</h3>
                    <div class="h-64 flex justify-center">
                        <canvas id="sovChart"></canvas>
                    </div>
                    <div class="mt-4 text-xs text-center text-slate-500">
                        在 "识字APP" 相关话题下，AI 提及各品牌的比例
                    </div>
                </div>

                <div class="pro-card p-6 col-span-2">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-sm font-bold text-slate-800">Visibility Trend (Last 30 Days)</h3>
                        <div class="flex gap-2">
                            <span class="text-xs flex items-center gap-1"><span class="w-2 h-2 rounded-full bg-indigo-600"></span> 洪恩</span>
                            <span class="text-xs flex items-center gap-1"><span class="w-2 h-2 rounded-full bg-orange-400"></span> 悟空</span>
                        </div>
                    </div>
                    <div class="h-64">
                        <canvas id="trendChart"></canvas>
                    </div>
                </div>
            </div>

            <div class="pro-card">
                <div class="px-6 py-4 border-b border-gray-100 flex justify-between">
                    <h3 class="font-bold text-slate-800">Recent AI Mentions Feed</h3>
                </div>
                <div class="divide-y divide-gray-100">
                    <div class="p-4 flex gap-4 hover:bg-slate-50 transition">
                        <div class="w-10 h-10 rounded bg-blue-100 text-blue-600 flex items-center justify-center flex-shrink-0">
                            <i class="fa-solid fa-robot"></i>
                        </div>
                        <div class="flex-1">
                            <div class="flex justify-between mb-1">
                                <span class="text-xs font-bold text-slate-700 bg-slate-100 px-2 py-0.5 rounded">Doubao (豆包)</span>
                                <span class="text-xs text-slate-400">2 mins ago</span>
                            </div>
                            <p class="text-sm text-slate-800 font-medium">"在众多识字软件中，<span class="bg-indigo-100 text-indigo-800 px-1">洪恩识字</span>依然是互动性最好的选择..."</p>
                            <div class="mt-2 text-xs text-slate-500 flex gap-4">
                                <span><i class="fa-solid fa-quote-left"></i> Source: zhihu.com</span>
                                <span><i class="fa-solid fa-face-smile text-green-500"></i> Positive</span>
                            </div>
                        </div>
                    </div>
                    <div class="p-4 flex gap-4 hover:bg-slate-50 transition">
                        <div class="w-10 h-10 rounded bg-indigo-100 text-indigo-600 flex items-center justify-center flex-shrink-0">
                            <i class="fa-solid fa-brain"></i>
                        </div>
                        <div class="flex-1">
                            <div class="flex justify-between mb-1">
                                <span class="text-xs font-bold text-slate-700 bg-slate-100 px-2 py-0.5 rounded">DeepSeek</span>
                                <span class="text-xs text-slate-400">1 hour ago</span>
                            </div>
                            <p class="text-sm text-slate-800 font-medium">"悟空识字更适合大龄儿童，而<span class="bg-indigo-100 text-indigo-800 px-1">洪恩</span>适合启蒙阶段..."</p>
                            <div class="mt-2 text-xs text-slate-500 flex gap-4">
                                <span><i class="fa-solid fa-quote-left"></i> Source: xiaohongshu.com</span>
                                <span><i class="fa-solid fa-face-meh text-yellow-500"></i> Neutral</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="view-prompts" class="hidden space-y-6">
            <div class="pro-card p-6">
                <h3 class="text-lg font-bold text-slate-800 mb-4">High Opportunity Prompts</h3>
                <p class="text-sm text-slate-500 mb-6">以下是家长常问 AI，但洪恩目前未获得首位推荐的“高潜力”问题。</p>
                <table class="w-full text-left border-collapse">
                    <thead>
                        <tr class="text-xs text-slate-400 border-b border-gray-100">
                            <th class="py-3 font-semibold uppercase">Prompt (家长提问)</th>
                            <th class="py-3 font-semibold uppercase">Volume (热度)</th>
                            <th class="py-3 font-semibold uppercase">Current Rank</th>
                            <th class="py-3 font-semibold uppercase">Action</th>
                        </tr>
                    </thead>
                    <tbody class="text-sm text-slate-700">
                        <tr class="border-b border-gray-50 hover:bg-slate-50">
                            <td class="py-4 font-medium">"适合3岁男孩的识字APP"</td>
                            <td class="py-4"><div class="w-24 bg-gray-200 h-1.5 rounded-full overflow-hidden"><div class="bg-indigo-500 h-1.5 w-[80%]"></div></div></td>
                            <td class="py-4"><span class="text-red-500 font-bold">#4</span> (悟空 #1)</td>
                            <td class="py-4"><button class="text-indigo-600 hover:underline">Generate Answer</button></td>
                        </tr>
                        <tr class="border-b border-gray-50 hover:bg-slate-50">
                            <td class="py-4 font-medium">"洪恩识字永久包多少钱"</td>
                            <td class="py-4"><div class="w-24 bg-gray-200 h-1.5 rounded-full overflow-hidden"><div class="bg-indigo-500 h-1.5 w-[60%]"></div></div></td>
                            <td class="py-4"><span class="text-yellow-500 font-bold">#2</span> (信息过时)</td>
                            <td class="py-4"><button class="text-indigo-600 hover:underline">Update Price</button></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div id="view-agent" class="hidden space-y-6">
            <div class="grid grid-cols-2 gap-6">
                <div class="pro-card p-6">
                    <h3 class="font-bold text-slate-800 mb-4">Crawler Accessibility</h3>
                    <div class="space-y-4">
                        <div class="flex justify-between items-center p-3 bg-green-50 rounded border border-green-100">
                            <div class="flex items-center gap-3">
                                <i class="fa-solid fa-robot text-green-600"></i>
                                <span class="font-medium text-sm">GPTBot (OpenAI)</span>
                            </div>
                            <span class="text-xs font-bold text-green-700 bg-white px-2 py-1 rounded border border-green-200">ALLOWED</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-red-50 rounded border border-red-100">
                            <div class="flex items-center gap-3">
                                <i class="fa-solid fa-spider text-red-600"></i>
                                <span class="font-medium text-sm">Bytespider (Doubao)</span>
                            </div>
                            <span class="text-xs font-bold text-red-700 bg-white px-2 py-1 rounded border border-red-200">BLOCKED</span>
                        </div>
                    </div>
                    <p class="mt-4 text-xs text-slate-500"><i class="fa-solid fa-triangle-exclamation"></i> 警告：Bytespider 被 robots.txt 拦截，导致豆包无法抓取最新官网内容。</p>
                </div>
            </div>
        </div>

        <div id="view-shopping" class="hidden space-y-6">
             <div class="pro-card p-6">
                <h3 class="font-bold text-slate-800 mb-2">Product Card Visibility</h3>
                <p class="text-sm text-slate-500 mb-6">模拟 AI 搜索结果中的富媒体卡片展示效果。</p>
                
                <div class="grid grid-cols-3 gap-6">
                    <div class="border border-green-200 rounded-lg p-4 bg-green-50 relative">
                        <div class="absolute top-2 right-2 text-green-600"><i class="fa-solid fa-circle-check"></i></div>
                        <div class="h-24 bg-gray-200 rounded mb-3 flex items-center justify-center text-gray-400">Product Image</div>
                        <div class="font-bold text-slate-800">洪恩识字 - 永久包</div>
                        <div class="text-sm text-slate-600 mb-2">¥ 248.00</div>
                        <button class="w-full bg-blue-500 text-white text-xs py-2 rounded">Buy Now (Link Active)</button>
                        <p class="mt-2 text-xs text-green-700 text-center">ChatGPT Display: Perfect</p>
                    </div>

                    <div class="border border-red-200 rounded-lg p-4 bg-red-50 relative">
                        <div class="absolute top-2 right-2 text-red-600"><i class="fa-solid fa-circle-xmark"></i></div>
                        <div class="h-24 bg-gray-200 rounded mb-3 flex items-center justify-center text-gray-400">Image Broken</div>
                        <div class="font-bold text-slate-800">洪恩识字 - 月卡</div>
                        <div class="text-sm text-slate-600 mb-2">Price Missing</div>
                        <button class="w-full bg-gray-300 text-gray-500 text-xs py-2 rounded cursor-not-allowed">Link 404</button>
                        <p class="mt-2 text-xs text-red-700 text-center">Kimi Display: Error</p>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <script>
        // === 1. Tab Switching Logic ===
        function switchTab(tabId) {
            // Update Navigation
            document.querySelectorAll('.sidebar-link').forEach(el => el.classList.remove('active'));
            document.getElementById('nav-' + tabId).classList.add('active');
            
            // Update Views
            ['insights', 'prompts', 'agent', 'shopping'].forEach(id => {
                document.getElementById('view-' + id).classList.add('hidden');
            });
            document.getElementById('view-' + tabId).classList.remove('hidden');

            // Update Title
            const titles = {
                'insights': 'Answer Engine Insights',
                'prompts': 'Prompt Volumes & Opportunity',
                'agent': 'Agent Analytics (Technical)',
                'shopping': 'Conversion & Product Cards'
            };
            document.getElementById('page-title').innerText = titles[tabId];
        }

        // === 2. Charts Initialization ===
        window.onload = function() {
            // Trend Chart (Competitor Comparison)
            const ctxTrend = document.getElementById('trendChart').getContext('2d');
            new Chart(ctxTrend, {
                type: 'line',
                data: {
                    labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                    datasets: [{
                        label: '洪恩识字',
                        data: [65, 70, 68, 72, 75, 80, 82],
                        borderColor: '#4f46e5', // Indigo
                        backgroundColor: 'rgba(79, 70, 229, 0.1)',
                        tension: 0.4,
                        fill: true
                    }, {
                        label: '悟空识字',
                        data: [60, 58, 62, 60, 59, 61, 60],
                        borderColor: '#fb923c', // Orange
                        borderDash: [5, 5],
                        tension: 0.4,
                        fill: false
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: { y: { beginAtZero: true } }
                }
            });

            // Share of Voice Chart (Donut)
            const ctxSov = document.getElementById('sovChart').getContext('2d');
            new Chart(ctxSov, {
                type: 'doughnut',
                data: {
                    labels: ['洪恩识字', '悟空识字', '叫叫阅读', '其他'],
                    datasets: [{
                        data: [42, 28, 20, 10],
                        backgroundColor: ['#4f46e5', '#fb923c', '#22c55e', '#cbd5e1'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    cutout: '70%',
                    plugins: { legend: { position: 'bottom', labels: { boxWidth: 10 } } }
                }
            });
        }
    </script>
</body>
</html>